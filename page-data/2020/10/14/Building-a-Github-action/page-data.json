{"componentChunkName":"component---src-templates-blog-template-js","path":"/2020/10/14/Building-a-Github-action/","result":{"data":{"markdownRemark":{"html":"<p>In my <a href=\"https://deborah-digges.github.io/2020/10/03/github-actions-gatsby-deploy\">last post</a>, I did a quick overview of GitHub Actions and demonstrated how to use an <a href=\"https://github.com/marketplace/actions/gatsby-publish\">existing action</a> to deploy a Gatsby site to GitHub Pages. In this post, I'd like to dive deeper into GitHub Actions exploring the underlying motivation behind it, the architecture, and the steps involved in building a custom action.</p>\n<p>Before getting into the specifics of GitHub Actions, let's understand their value proposition by delving into GitHub events, and how GitHub has supported the handling of these events.</p>\n<h2>What Are Events?</h2>\n<blockquote>\n<p>Don’t call us, we’ll call you.</p>\n</blockquote>\n<p>An event is a message used by a software component or system to notify a change in its state to another component or system.</p>\n<p>For example, within a software system, an <em>Orders</em> component may notify a <em>Notification</em> component about a new order placed so that the notification component can send an email to the customer confirming the order.</p>\n<p>Software as a Service (SaaS) products emit events to allow customers of these products to extend core product flows. For example, an e-commerce site integrating with Stripe for payments could use a Stripe <a href=\"https://stripe.com/docs/api/events\">event</a> to react to an anomalous payment activity. For example, if a user of the e-commerce site disputes a payment processed on Stripe, the <code>charge.dispute.created</code> event generated by Stripe could be used to notify the e-commerce site's operations team to look into the matter further.</p>\n<p>Events are fundamental to the extensibility of a product. They allow you to extend existing product flows to hook into the tools and processes that you or your organization already use.</p>\n<h2>GitHub Events</h2>\n<p><a href=\"http://github.com/\">GitHub</a> provides hosting for software projects and version control using git. It has formed the nucleus of the software development lifecycle by supporting collaboration across teams (often distributed), code reviews, and project management.</p>\n<p><a href=\"https://docs.github.com/en/free-pro-team@latest/developers/webhooks-and-events/webhook-events-and-payloads\">GitHub events</a> play a big part in helping GitHub do what it does best while also providing extensibility points to integrate with other tools used in the software development lifecycle. You might use GitHub for collaborating on the source code, JIRA for project management, and Confluence for documenting processes. GitHub events help you extend typical activities performed on GitHub to hook into these other tools that you already use.</p>\n<blockquote>\n<p>“Each event corresponds to a certain set of actions that can happen to your organization and/or repository. For example, if you subscribe to the issues event you'll receive detailed payloads every time an issue is opened, closed, labeled, etc.” - The GitHub Events Documentation</p>\n</blockquote>\n<p>For example, when a pull request is merged in GitHub, you might want to update the status of the corresponding story in JIRA.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1919e1fb7706ab2fa199976079d7f677/53e84/github-jira-example.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 44.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABUUlEQVQoz5VSXW+CMBTl9/vofsdM9rCHvYhxJoviMDFjAjFRFIgCwhiVgLSctTgcuGRmN2lybnt7PgoSeJVliUsJ3Oyvz2+U1Ov10Ol0cNftQh4Mq03G7+enAscjAWPsX6SSYRiw7Q2ennWM5y5G4ze8THVs/QKe5yHLsl+EAtf9NZYEOOUZFuuEuynh2hb2Oxe7qMRi6YgxlOx7lbdXRZimBJrpYh9RhAScnMAJcpjLNT871r4uDsUzNJ21ItdWKaVIM4qCAnsvwGccVQOnlOFjQ0FsLswFKStaBLIso9/vV/eFkNRWOeMg8KHrBuI4xutUhTqZ4+H+EcPBCNq7BkVRoGkaZrMZVFUFIaSaPRwOPw6bETxPEOrwfR+r1Qrb7QYTZQzDNCA+YhiG/ClSWJYF0zSR5zmiKILjOGfCv/45EUOo11UU7ciiF3HFTJIk+ALK/LJvVkAX9wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"GitHub JIRA Integration Example\"\n        title=\"GitHub JIRA Integration Example\"\n        src=\"/static/1919e1fb7706ab2fa199976079d7f677/5a190/github-jira-example.png\"\n        srcset=\"/static/1919e1fb7706ab2fa199976079d7f677/772e8/github-jira-example.png 200w,\n/static/1919e1fb7706ab2fa199976079d7f677/e17e5/github-jira-example.png 400w,\n/static/1919e1fb7706ab2fa199976079d7f677/5a190/github-jira-example.png 800w,\n/static/1919e1fb7706ab2fa199976079d7f677/c1b63/github-jira-example.png 1200w,\n/static/1919e1fb7706ab2fa199976079d7f677/29007/github-jira-example.png 1600w,\n/static/1919e1fb7706ab2fa199976079d7f677/53e84/github-jira-example.png 2074w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2>What GitHub Events Can We React To?</h2>\n<p>Github provides pretty good <a href=\"https://docs.github.com/en/free-pro-team@latest/actions/reference/events-that-trigger-workflows\">event coverage</a>. You can hook into a large number of activities performed on GitHub and extend them according to your team or business' needs.</p>\n<h2>Reacting to Events — The Before Times</h2>\n<p>So, how do you listen for and react to GitHub events? Before GitHub Actions, <a href=\"https://docs.github.com/en/free-pro-team@latest/developers/webhooks-and-events/about-webhooks\">webhooks</a> were the recommended way to consume GitHub Events.</p>\n<p>The <em>Event Listener</em> in this case is a web service that exposes an HTTP endpoint. You'd configure your repository with this endpoint. GitHub would POST events to this endpoint whenever events of interest happened in the repository.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d4741d5dc931b24b6cd03f6c19781b3a/14060/event-handler-webhook.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABfklEQVQoz5WSy06DUBCGeUpfwHdw46JLjXHtvokbNyaVjZc0JtTGmkhaS7RIYwuUUqA3WumF6+/htFTsJeokA2HmzMfMP4fBmkVRRDx5LzyJ/8UYjuNQLpchVKsYDgdLarjxk78ak8lkkM1mcXR8AqneoEFn5mPmBugPBrBt+38dxo9enxQ6Pj6aKm7u8rjNFzByPPQGI/S63ZQU0UbX63EKVFtt2J9zOqrjOJhNJzTZMfswTfNH4TZtwzBcfVOgrnegWzY8nwAJt9UZwpnM0e5Y0DSNHgxIUVKYXtq61hQYBAFc14XneQhJ0LK66C5HjSGb9g0SRREsy8L3/UWH28SOF/EuSQQWoV6X8FhugM3zOM+VcHEtoFqT8VDgoKoqeJ5HpVKBLMu0jknrk3SjKAqKxSI5pOBVeEGuoOLg9Ap7+4c4u6zh/rkF8U1AqfQEQRCwkE2HYRgL4G93ri4bkJomNN2CbvSgavoqNx6PMZ1OqcdjM9tg6c3tun+7cl/S/0slDmtcDAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Webhook Event Handler\"\n        title=\"Webhook Event Handler\"\n        src=\"/static/d4741d5dc931b24b6cd03f6c19781b3a/5a190/event-handler-webhook.png\"\n        srcset=\"/static/d4741d5dc931b24b6cd03f6c19781b3a/772e8/event-handler-webhook.png 200w,\n/static/d4741d5dc931b24b6cd03f6c19781b3a/e17e5/event-handler-webhook.png 400w,\n/static/d4741d5dc931b24b6cd03f6c19781b3a/5a190/event-handler-webhook.png 800w,\n/static/d4741d5dc931b24b6cd03f6c19781b3a/14060/event-handler-webhook.png 949w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Setting up a webhook to respond to an event looks something like this:</p>\n<ol>\n<li>Create a webservice that exposes an HTTP endpoint and contains the logic to handle events of interest</li>\n<li>Configure a webhook in a GitHub repository by providing the HTTP endpoint specified in (1)</li>\n<li>Parse the event payload received from GitHub in the HTTP endpoint and respond appropriately.</li>\n</ol>\n<p>The biggest drawback of webhooks is having to stand up an external service. This means writing a new service, deploying it, and maintaining it.</p>\n<p>There are entire CI platforms built around GitHub events and webhooks. For example, when you <a href=\"https://deborah-digges.github.io/2020/09/24/gatsby-deploy\">enable a GitHub repository to be built on Travis CI</a>, a webhook is set up that pushes events to an externally hosted Travis CI server (you don’t have to explicitly maintain the server in this case, but it is still an external dependency).</p>\n<h2>Enter GitHub Actions</h2>\n<p><a href=\"https://docs.github.com/en/free-pro-team@latest/actions/creating-actions/about-actions\">GitHub Actions</a> provide a way to react to GitHub events within the GitHub platform instead of having an independently deployed webhook to receive events.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 726px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ea15d003933b6fe975f0517a51da2d70/f8067/event-handler-github-action.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 49%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABfklEQVQoz5VS207CQBDtz2LgT/gE9Rt4McGEBxPlZoOGW8BAQAsUWkgDtJRett1tj7tFCFWJcZKT3ezMnjlzkeI4hkAURalT2PH8j0mXHMdE33HuF8kFzuMlxhh2ux0URYG4b7dbhGH4FfQz0XkFv71JlUoF2WwWuVwO+XweV5kMOp124mSMgsUhopgiCAPYtn0iESKKxSK63W5KtdRoNFAul7Fc6qjVanhtdrEx9yA0husQOGsKa0mwmRK0W21MJkryud/vo1AoQJZl6LoO3/fTPRRq5gsdaztGq9PD4H0CewO81aeoPD5j0jNwf1fCze01hAiRXBghJGmXqqoHwmPtnuviQ5nC2hPo2pwrmaIuN/FQejqUuGB4kVsIaYDRaIxqtQrLshJCTdOwWq3ShC4nHAyHcPk8fMobzZ/dgA9pFsCchzDGHtrNzqlfgsg0TXiel/STUpomFBM2DAOO43C48HkgIT4oC8EixkExU2cIguDifiZD+XOB4//t6CfD9vm9of6IrgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Event Handler GitHub Action\"\n        title=\"Event Handler GitHub Action\"\n        src=\"/static/ea15d003933b6fe975f0517a51da2d70/f8067/event-handler-github-action.png\"\n        srcset=\"/static/ea15d003933b6fe975f0517a51da2d70/772e8/event-handler-github-action.png 200w,\n/static/ea15d003933b6fe975f0517a51da2d70/e17e5/event-handler-github-action.png 400w,\n/static/ea15d003933b6fe975f0517a51da2d70/f8067/event-handler-github-action.png 726w\"\n        sizes=\"(max-width: 726px) 100vw, 726px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<blockquote>\n<p>“GitHub Actions is your workflow: built by you, run by us.” — The GitHub Blog</p>\n</blockquote>\n<p>GitHub Actions provide a number of advantages:</p>\n<ol>\n<li>Provides the ability to react to events within GitHub. Avoids introducing a third-party tool and prevents data from flowing through another service.</li>\n<li>Provides a <a href=\"https://docs.github.com/en/free-pro-team@latest/github/setting-up-and-managing-billing-and-payments-on-github/about-billing-for-github-actions#about-billing-for-github-actions\">lower pricing plan</a> than a separate service for CI/CD. It is free for public repositories and pay-as-you-go for private repositories.</li>\n<li>Allows the reuse of shared workflows. This point is especially important, as it prevents developers from having to solve the same problems over and over again. Instead, public workflows create an <a href=\"https://github.com/marketplace?type=actions\">ecosystem of Actions</a> that developers can fork, edit, iterate, and improve upon, much like code.</li>\n</ol>\n<h2>The Building Blocks — Workflow, Jobs, Steps, Actions, Runners</h2>\n<p>A GitHub Event triggers a <strong>Workflow</strong>. A Workflow is run on a <strong>Runner</strong>.</p>\n<ul>\n<li>A <strong>Workflow</strong>  has one or more jobs (that by default run in parallel)</li>\n<li>A <strong>Job</strong>  has one or more steps that execute on the same runner. Steps in the same job can pass data between them</li>\n<li>A <strong>Step</strong> (individual task) has 1 action</li>\n<li>An <strong>Action</strong> is the smallest standalone components combined into steps to create a job</li>\n<li>A <strong>Runner</strong> is a server that has the GitHub Actions runner application installed which listens for jobs, runs one job at a time, reports progress, logs results</li>\n</ul>\n<p>A picture is worth a thousand words:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9b744b8c9b4762772e9dae014695be59/1c1a4/github-action-components.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 73.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAACPElEQVQ4y41U227TQBDNj9MfKG997Teg8gBFSKWVIioVBL0oJG1SCCG1Hd9y8dp73z2MnRaS1lSsdLRra+bonNmZ7Tjn4L3/g3+tOu5hbcY+zuk8TqwDut0uDg4OsL+/j729vQY7L3awu/sSh4fvtmIfr87p6SlGoxHCMMRwOESv18Px8TGuepc4OTnB0YcjXF5e4Ov5F7w9fIPBTR9KK3DO16Ru212HMQYhBIqiQBzHyPMci/kCEC2+KUdnAMsUtJV/f24o7rTVa54vsPjh8e1qgOmvAGk0RzhJsMwLsNBDrCwEM6hSjypztDtYda9w80JqGGuQpTnYHdD/NMbt1R3CcYrJIEY2YSgDQDKH5Frj+rXB7XuD/ivdEG9dykMNrLWNwoIIP388x01/hGSWIZhEkHOAp2Q5NdBaP2/5gbBWOItiVCEpPB9hNBgTYQrNPVRBpa1rSLaV1Oscv9lGvk2hQRInWAUGq0iCMwnBCSVhZZBPKlRL0cQ5ZynPbeGpQkOEaQIDBio9HFSzK1dA+wrCZZBuSXG2dQBaCaNZRMkM2lVw3jawXsG4NXF95qLAdHWG74sjTIszhOwCP5fdNssOYRRA2hURlkRmGkLjJZFRz9o5EWqUfImkvMZcjLGUU6R82Jw7bWMUJzG4IluoGsK6NsZzgmhIa9STYtR/WK7bJgjuUNFISEv2nFpbdpoUc5Q6BtMzsJJBSnGf+8yl1K9KmqY0jhU0SVBKNa1kG1j6lpCKo6oqqrd+4u43HYCDOJ/r1ZIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"GitHub Action Components\"\n        title=\"GitHub Action Components\"\n        src=\"/static/9b744b8c9b4762772e9dae014695be59/5a190/github-action-components.png\"\n        srcset=\"/static/9b744b8c9b4762772e9dae014695be59/772e8/github-action-components.png 200w,\n/static/9b744b8c9b4762772e9dae014695be59/e17e5/github-action-components.png 400w,\n/static/9b744b8c9b4762772e9dae014695be59/5a190/github-action-components.png 800w,\n/static/9b744b8c9b4762772e9dae014695be59/1c1a4/github-action-components.png 1046w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2>What Exactly <strong>is</strong> a GitHub Action?</h2>\n<p>An action is the smallest standalone component in a workflow. As we saw above, it can be combined into steps to create a job. It runs a bit of code and has the ability to pass information to the next step in a job. There are <a href=\"https://www.reddit.com/r/docker/comments/gopv3w/github_actions_docker_containers_vs_javascript/\">two ways</a> we can write a GitHub Action:</p>\n<h3>Javascript Action</h3>\n<p>Here, you write the code for the action in Javascript. This code is executed using the version of node you specify in the action.yml (more on this later). The version of node supported is mentioned in the <a href=\"https://docs.github.com/en/free-pro-team@latest/actions/reference/specifications-for-github-hosted-runners\">runner specification</a>.</p>\n<p>There are a few drawbacks to this approach.</p>\n<ol>\n<li>The action is dependent on the version of Node available on the runner. If you use your own runner running node 10, Javascript actions written for node 12 will not work correctly.</li>\n<li>Dependencies need to packaged with the action (either by including the node_modules folder in the action repository or by packaging the node_modules folder into a single file using <a href=\"https://docs.github.com/en/free-pro-team@latest/actions/creating-actions/creating-a-javascript-action#commit-tag-and-push-your-action-to-github\">vercel/ncc</a>)</li>\n</ol>\n<h3>Docker Container Action</h3>\n<p>Docker containers bundle the environment and code of a GitHub action together which makes it a more reliable way of packaging an action. The consumer of the action does not need to worry about the tools or dependencies used in the action. For example, if the action specified a node version of 12 but was run on a non standard runner which ran node 10, this would cause issues. Using a Docker container which bundled the correct version of node with the action would avoid such issues.</p>\n<h2>Creating a Javascript Action</h2>\n<p>In a <a href=\"https://deborah-digges.github.io/2015/10/23/pr-bot\">previous post</a>, I described how I set up a GitHub webhook to comment on pull requests opened by new contributors on a repository. We're going to recreate this behavior using a GitHub Action.</p>\n<h3>Initializing The Repository</h3>\n<ol>\n<li>Create an empty folder</li>\n<li>Inside the folder: <code>npm init -y</code></li>\n</ol>\n<h3>Describing Our Action</h3>\n<p>Create an <code>action.yml</code> file in the same folder. This file contains metadata that describes the intent of this action, its inputs, and its outputs.</p>\n<p><div id=\"gist105930521\" class=\"gist\">\n    <div class=\"gist-file\" translate=\"no\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-action-yml\" class=\"file my-2\">\n    \n    <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-yaml  \">\n\n        \n<div class=\"js-check-bidi js-blob-code-container blob-code-content\">\n\n  <template class=\"js-file-alert-template\">\n  <div data-view-component=\"true\" class=\"flash flash-warn flash-full d-flex flex-items-center\">\n  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n  \n    <span>\n      This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\n      <a href=\"https://github.co/hiddenchars\" target=\"_blank\">Learn more about bidirectional Unicode characters</a>\n    </span>\n\n\n  <div data-view-component=\"true\" class=\"flash-action\">      <a href=\"{{ revealButtonHref }}\" data-view-component=\"true\" class=\"btn-sm btn\">  Show hidden characters\n  \n</a>\n</div>\n</div></template>\n<template class=\"js-line-alert-template\">\n  <span aria-label=\"This line has hidden Unicode characters\" data-view-component=\"true\" class=\"line-alert tooltipped tooltipped-e\">\n    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n</span></template>\n\n  <table class=\"highlight tab-size js-file-line-container js-code-nav-container js-tagsearch-file\" data-tab-size=\"8\" data-paste-markdown-skip data-tagsearch-lang=\"YAML\" data-tagsearch-path=\"action.yml\">\n        <tr>\n          <td id=\"file-action-yml-L1\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"1\"></td>\n          <td id=\"file-action-yml-LC1\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-ent\">name</span>: <span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>Welcome bot on new pull requests<span class=\"pl-pds\">&#39;</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-action-yml-L2\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"2\"></td>\n          <td id=\"file-action-yml-LC2\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-ent\">description</span>: <span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>Greet new contributors on a repository<span class=\"pl-pds\">&#39;</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-action-yml-L3\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"3\"></td>\n          <td id=\"file-action-yml-LC3\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-ent\">inputs</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-action-yml-L4\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"4\"></td>\n          <td id=\"file-action-yml-LC4\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">access-token</span>:  </td>\n        </tr>\n        <tr>\n          <td id=\"file-action-yml-L5\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"5\"></td>\n          <td id=\"file-action-yml-LC5\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">description</span>: <span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>A GitHub personal access token used to make comments on your behalf<span class=\"pl-pds\">&#39;</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-action-yml-L6\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"6\"></td>\n          <td id=\"file-action-yml-LC6\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">required</span>: <span class=\"pl-c1\">true</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-action-yml-L7\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"7\"></td>\n          <td id=\"file-action-yml-LC7\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">message</span>:  </td>\n        </tr>\n        <tr>\n          <td id=\"file-action-yml-L8\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"8\"></td>\n          <td id=\"file-action-yml-LC8\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">description</span>: <span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>A personal message to send to a new contributor on your repository<span class=\"pl-pds\">&#39;</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-action-yml-L9\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"9\"></td>\n          <td id=\"file-action-yml-LC9\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">required</span>: <span class=\"pl-c1\">true</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-action-yml-L10\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"10\"></td>\n          <td id=\"file-action-yml-LC10\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">default</span>: <span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>Welcome, {}! Thank you for your contribution<span class=\"pl-pds\">&#39;</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-action-yml-L11\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"11\"></td>\n          <td id=\"file-action-yml-LC11\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-ent\">runs</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-action-yml-L12\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"12\"></td>\n          <td id=\"file-action-yml-LC12\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">using</span>: <span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>node12<span class=\"pl-pds\">&#39;</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-action-yml-L13\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"13\"></td>\n          <td id=\"file-action-yml-LC13\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">main</span>: <span class=\"pl-s\"><span class=\"pl-pds\">&#39;</span>src/index.js<span class=\"pl-pds\">&#39;</span></span></td>\n        </tr>\n  </table>\n</div>\n\n\n    </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/Deborah-Digges/342ad72d6960e733dbf0634bc2b0e7b3/raw/10ba893ff5dbcc26fb0c358d950008413667a59a/action.yml\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/Deborah-Digges/342ad72d6960e733dbf0634bc2b0e7b3#file-action-yml\">\n          action.yml\n        </a>\n        hosted with &#10084; by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div></p>\n<p>This action needs to have an <code>access-token</code> to be able to comment on a pull request on behalf of a user. The welcome <code>message</code> to new contributors is also configurable.</p>\n<p>We specify that the action <em>runs</em> on <code>node12</code> and also specify the entry point (where the code for our action is located).</p>\n<h3>Adding Toolkit Dependencies</h3>\n<p>GitHub provides an action <a href=\"https://github.com/actions/toolkit\">toolkit</a> with basic utilities that are required by any action. We will use these utilities for reading the event, getting a GitHub API client configured with a token, and other niceties that we don't want to have to end up building ourselves.</p>\n<pre><code>npm install @actions/core\nnpm install @actions/github\n</code></pre>\n<h3>Writing The Action Code</h3>\n<p><div id=\"gist105930596\" class=\"gist\">\n    <div class=\"gist-file\" translate=\"no\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-index-js\" class=\"file my-2\">\n    \n    <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-javascript  \">\n\n        \n<div class=\"js-check-bidi js-blob-code-container blob-code-content\">\n\n  <template class=\"js-file-alert-template\">\n  <div data-view-component=\"true\" class=\"flash flash-warn flash-full d-flex flex-items-center\">\n  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n  \n    <span>\n      This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\n      <a href=\"https://github.co/hiddenchars\" target=\"_blank\">Learn more about bidirectional Unicode characters</a>\n    </span>\n\n\n  <div data-view-component=\"true\" class=\"flash-action\">      <a href=\"{{ revealButtonHref }}\" data-view-component=\"true\" class=\"btn-sm btn\">  Show hidden characters\n  \n</a>\n</div>\n</div></template>\n<template class=\"js-line-alert-template\">\n  <span aria-label=\"This line has hidden Unicode characters\" data-view-component=\"true\" class=\"line-alert tooltipped tooltipped-e\">\n    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n</span></template>\n\n  <table class=\"highlight tab-size js-file-line-container js-code-nav-container js-tagsearch-file\" data-tab-size=\"8\" data-paste-markdown-skip data-tagsearch-lang=\"JavaScript\" data-tagsearch-path=\"index.js\">\n        <tr>\n          <td id=\"file-index-js-L1\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"1\"></td>\n          <td id=\"file-index-js-LC1\" class=\"blob-code blob-code-inner js-file-line\"><span class=pl-k>const</span> <span class=pl-s1>core</span> <span class=pl-c1>=</span> <span class=pl-en>require</span><span class=pl-kos>(</span><span class=pl-s>&#39;@actions/core&#39;</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-index-js-L2\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"2\"></td>\n          <td id=\"file-index-js-LC2\" class=\"blob-code blob-code-inner js-file-line\"><span class=pl-k>const</span> <span class=pl-s1>github</span> <span class=pl-c1>=</span> <span class=pl-en>require</span><span class=pl-kos>(</span><span class=pl-s>&#39;@actions/github&#39;</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-index-js-L3\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"3\"></td>\n          <td id=\"file-index-js-LC3\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-index-js-L4\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"4\"></td>\n          <td id=\"file-index-js-LC4\" class=\"blob-code blob-code-inner js-file-line\"><span class=pl-k>async</span> <span class=pl-k>function</span> <span class=pl-en>run</span><span class=pl-kos>(</span><span class=pl-kos>)</span> <span class=pl-kos>{</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-index-js-L5\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"5\"></td>\n          <td id=\"file-index-js-LC5\" class=\"blob-code blob-code-inner js-file-line\">  <span class=pl-k>try</span> <span class=pl-kos>{</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-index-js-L6\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"6\"></td>\n          <td id=\"file-index-js-LC6\" class=\"blob-code blob-code-inner js-file-line\">    <span class=pl-k>const</span> <span class=pl-s1>accessToken</span> <span class=pl-c1>=</span> <span class=pl-s1>core</span><span class=pl-kos>.</span><span class=pl-en>getInput</span><span class=pl-kos>(</span><span class=pl-s>&#39;access-token&#39;</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-index-js-L7\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"7\"></td>\n          <td id=\"file-index-js-LC7\" class=\"blob-code blob-code-inner js-file-line\">    <span class=pl-k>const</span> <span class=pl-s1>message</span> <span class=pl-c1>=</span> <span class=pl-s1>core</span><span class=pl-kos>.</span><span class=pl-en>getInput</span><span class=pl-kos>(</span><span class=pl-s>&#39;message&#39;</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-index-js-L8\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"8\"></td>\n          <td id=\"file-index-js-LC8\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-index-js-L9\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"9\"></td>\n          <td id=\"file-index-js-LC9\" class=\"blob-code blob-code-inner js-file-line\">    <span class=pl-k>const</span> <span class=pl-s1>payload</span> <span class=pl-c1>=</span> <span class=pl-s1>github</span><span class=pl-kos>.</span><span class=pl-c1>context</span><span class=pl-kos>.</span><span class=pl-c1>payload</span><span class=pl-kos>;</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-index-js-L10\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"10\"></td>\n          <td id=\"file-index-js-LC10\" class=\"blob-code blob-code-inner js-file-line\">    <span class=pl-k>const</span> <span class=pl-s1>githubClient</span> <span class=pl-c1>=</span> <span class=pl-s1>github</span><span class=pl-kos>.</span><span class=pl-en>getOctokit</span><span class=pl-kos>(</span><span class=pl-s1>accessToken</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-index-js-L11\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"11\"></td>\n          <td id=\"file-index-js-LC11\" class=\"blob-code blob-code-inner js-file-line\">    <span class=pl-s1>core</span><span class=pl-kos>.</span><span class=pl-en>info</span><span class=pl-kos>(</span><span class=pl-s>&quot;Request received&quot;</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-index-js-L12\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"12\"></td>\n          <td id=\"file-index-js-LC12\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-index-js-L13\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"13\"></td>\n          <td id=\"file-index-js-LC13\" class=\"blob-code blob-code-inner js-file-line\">    <span class=pl-k>if</span> <span class=pl-kos>(</span><span class=pl-s1>payload</span><span class=pl-kos>.</span><span class=pl-c1>action</span> <span class=pl-c1>===</span> <span class=pl-s>&quot;opened&quot;</span><span class=pl-kos>)</span> <span class=pl-kos>{</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-index-js-L14\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"14\"></td>\n          <td id=\"file-index-js-LC14\" class=\"blob-code blob-code-inner js-file-line\">      <span class=pl-s1>core</span><span class=pl-kos>.</span><span class=pl-en>info</span><span class=pl-kos>(</span><span class=pl-s>&quot;New Pull Request..&quot;</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-index-js-L15\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"15\"></td>\n          <td id=\"file-index-js-LC15\" class=\"blob-code blob-code-inner js-file-line\">      <span class=pl-k>const</span> <span class=pl-s1>pullRequest</span> <span class=pl-c1>=</span> <span class=pl-s1>payload</span><span class=pl-kos>.</span><span class=pl-c1>pull_request</span><span class=pl-kos>;</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-index-js-L16\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"16\"></td>\n          <td id=\"file-index-js-LC16\" class=\"blob-code blob-code-inner js-file-line\">      <span class=pl-k>const</span> <span class=pl-s1>userName</span> <span class=pl-c1>=</span> <span class=pl-s1>pullRequest</span><span class=pl-kos>.</span><span class=pl-c1>user</span><span class=pl-kos>.</span><span class=pl-c1>login</span><span class=pl-kos>;</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-index-js-L17\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"17\"></td>\n          <td id=\"file-index-js-LC17\" class=\"blob-code blob-code-inner js-file-line\">      <span class=pl-k>const</span> <span class=pl-s1>owner</span> <span class=pl-c1>=</span> <span class=pl-s1>pullRequest</span><span class=pl-kos>.</span><span class=pl-c1>base</span><span class=pl-kos>.</span><span class=pl-c1>repo</span><span class=pl-kos>.</span><span class=pl-c1>owner</span><span class=pl-kos>.</span><span class=pl-c1>login</span><span class=pl-kos>;</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-index-js-L18\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"18\"></td>\n          <td id=\"file-index-js-LC18\" class=\"blob-code blob-code-inner js-file-line\">      <span class=pl-k>const</span> <span class=pl-s1>repoName</span> <span class=pl-c1>=</span> <span class=pl-s1>pullRequest</span><span class=pl-kos>.</span><span class=pl-c1>base</span><span class=pl-kos>.</span><span class=pl-c1>repo</span><span class=pl-kos>.</span><span class=pl-c1>name</span><span class=pl-kos>;</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-index-js-L19\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"19\"></td>\n          <td id=\"file-index-js-LC19\" class=\"blob-code blob-code-inner js-file-line\">      <span class=pl-k>const</span> <span class=pl-s1>issueNumber</span> <span class=pl-c1>=</span> <span class=pl-s1>pullRequest</span><span class=pl-kos>.</span><span class=pl-c1>number</span><span class=pl-kos>;</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-index-js-L20\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"20\"></td>\n          <td id=\"file-index-js-LC20\" class=\"blob-code blob-code-inner js-file-line\">      <span class=pl-k>const</span> <span class=pl-s1>comment</span> <span class=pl-c1>=</span> <span class=pl-s1>message</span><span class=pl-kos>.</span><span class=pl-en>replace</span><span class=pl-kos>(</span><span class=pl-pds><span class=pl-c1>/</span><span class=pl-cce></span><span class=pl-kos>{</span><span class=pl-kos>}</span><span class=pl-c1>/</span>g</span><span class=pl-kos>,</span> <span class=pl-s1>userName</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-index-js-L21\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"21\"></td>\n          <td id=\"file-index-js-LC21\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-index-js-L22\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"22\"></td>\n          <td id=\"file-index-js-LC22\" class=\"blob-code blob-code-inner js-file-line\">      <span class=pl-k>const</span> <span class=pl-s1>shouldComment</span> <span class=pl-c1>=</span> <span class=pl-k>await</span> <span class=pl-en>isFirstPull</span><span class=pl-kos>(</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-index-js-L23\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"23\"></td>\n          <td id=\"file-index-js-LC23\" class=\"blob-code blob-code-inner js-file-line\">        <span class=pl-s1>githubClient</span><span class=pl-kos>,</span> <span class=pl-s1>owner</span><span class=pl-kos>,</span> <span class=pl-s1>repoName</span><span class=pl-kos>,</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-index-js-L24\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"24\"></td>\n          <td id=\"file-index-js-LC24\" class=\"blob-code blob-code-inner js-file-line\">        <span class=pl-s1>userName</span><span class=pl-kos>,</span> <span class=pl-s1>issueNumber</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-index-js-L25\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"25\"></td>\n          <td id=\"file-index-js-LC25\" class=\"blob-code blob-code-inner js-file-line\">      <span class=pl-kos>)</span><span class=pl-kos>;</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-index-js-L26\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"26\"></td>\n          <td id=\"file-index-js-LC26\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-index-js-L27\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"27\"></td>\n          <td id=\"file-index-js-LC27\" class=\"blob-code blob-code-inner js-file-line\">      <span class=pl-c>// Comment on the pull request made by a new contributor</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-index-js-L28\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"28\"></td>\n          <td id=\"file-index-js-LC28\" class=\"blob-code blob-code-inner js-file-line\">      <span class=pl-k>if</span> <span class=pl-kos>(</span><span class=pl-s1>shouldComment</span><span class=pl-kos>)</span> <span class=pl-kos>{</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-index-js-L29\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"29\"></td>\n          <td id=\"file-index-js-LC29\" class=\"blob-code blob-code-inner js-file-line\">        <span class=pl-s1>core</span><span class=pl-kos>.</span><span class=pl-en>info</span><span class=pl-kos>(</span><span class=pl-s>&quot;Commenting&quot;</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-index-js-L30\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"30\"></td>\n          <td id=\"file-index-js-LC30\" class=\"blob-code blob-code-inner js-file-line\">        <span class=pl-s1>githubClient</span><span class=pl-kos>.</span><span class=pl-c1>issues</span><span class=pl-kos>.</span><span class=pl-en>createComment</span><span class=pl-kos>(</span><span class=pl-kos>{</span> owner<span class=pl-kos>,</span> <span class=pl-c1>repo</span>: <span class=pl-s1>repoName</span><span class=pl-kos>,</span> <span class=pl-c1>issue_number</span>: <span class=pl-s1>issueNumber</span><span class=pl-kos>,</span> <span class=pl-c1>body</span>: <span class=pl-s1>comment</span> <span class=pl-kos>}</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-index-js-L31\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"31\"></td>\n          <td id=\"file-index-js-LC31\" class=\"blob-code blob-code-inner js-file-line\">      <span class=pl-kos>}</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-index-js-L32\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"32\"></td>\n          <td id=\"file-index-js-LC32\" class=\"blob-code blob-code-inner js-file-line\">    <span class=pl-kos>}</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-index-js-L33\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"33\"></td>\n          <td id=\"file-index-js-LC33\" class=\"blob-code blob-code-inner js-file-line\">  <span class=pl-kos>}</span> <span class=pl-k>catch</span> <span class=pl-kos>(</span><span class=pl-s1>err</span><span class=pl-kos>)</span> <span class=pl-kos>{</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-index-js-L34\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"34\"></td>\n          <td id=\"file-index-js-LC34\" class=\"blob-code blob-code-inner js-file-line\">    <span class=pl-s1>core</span><span class=pl-kos>.</span><span class=pl-en>setFailed</span><span class=pl-kos>(</span><span class=pl-s1>err</span><span class=pl-kos>.</span><span class=pl-c1>message</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-index-js-L35\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"35\"></td>\n          <td id=\"file-index-js-LC35\" class=\"blob-code blob-code-inner js-file-line\">  <span class=pl-kos>}</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-index-js-L36\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"36\"></td>\n          <td id=\"file-index-js-LC36\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-index-js-L37\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"37\"></td>\n          <td id=\"file-index-js-LC37\" class=\"blob-code blob-code-inner js-file-line\"><span class=pl-kos>}</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-index-js-L38\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"38\"></td>\n          <td id=\"file-index-js-LC38\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-index-js-L39\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"39\"></td>\n          <td id=\"file-index-js-LC39\" class=\"blob-code blob-code-inner js-file-line\"><span class=pl-en>run</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>\n        </tr>\n  </table>\n</div>\n\n\n    </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/Deborah-Digges/f0edad96e22bfe272a888aaa659a783f/raw/a5a090309899526780f7a172abcce5d858de3976/index.js\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/Deborah-Digges/f0edad96e22bfe272a888aaa659a783f#file-index-js\">\n          index.js\n        </a>\n        hosted with &#10084; by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div></p>\n<ul>\n<li>We import the <code>core</code> and <code>github</code> modules from the GitHub action toolkit</li>\n<li>We access the inputs to the action using the <code>core.getInput</code> function</li>\n<li>We access the event payload using the <code>github</code> module: <code>github.context.payload</code></li>\n<li>We create a GitHub client using the <code>github</code> module: <code>github.getOctokit(accessToken)</code> with the accessToken obtained from the inputs</li>\n<li>We inspect the <code>payload</code> to see if it is a new pull request (i.e. the status is <code>opened</code>). We also check to see if this is a pull request made by a new contributor</li>\n<li>If it is, we use the <code>githubClient</code> we created previously to comment on the pull request: <code>githubClient.issues.createComment</code></li>\n</ul>\n<p>And that's it!</p>\n<h3>Commiting the Code</h3>\n<ol>\n<li>Add the <code>src</code> folder, <code>package.json</code> and <code>package-lock.json</code> files, <code>node_modules</code> folder</li>\n<li>Commit your changes</li>\n<li>Tag your changes</li>\n<li>Push your changes to a Repository on Github</li>\n</ol>\n<p>To see the complete code for this GitHub Action, check out my repository on <a href=\"https://github.com/Deborah-Digges/new-pull-request-comment-action\">GitHub</a>.</p>\n<h2>Using Your Action in a Repository Workflow</h2>\n<p>In the repository where you'd like to use this action and comment on pull requests made by new contributors automatically, add a <code>.github/workflows</code> folder. Add a <code>.yml</code> file to this folder to describe this workflow:</p>\n<p><div id=\"gist105930708\" class=\"gist\">\n    <div class=\"gist-file\" translate=\"no\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-workflow-yml\" class=\"file my-2\">\n    \n    <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-yaml  \">\n\n        \n<div class=\"js-check-bidi js-blob-code-container blob-code-content\">\n\n  <template class=\"js-file-alert-template\">\n  <div data-view-component=\"true\" class=\"flash flash-warn flash-full d-flex flex-items-center\">\n  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n  \n    <span>\n      This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\n      <a href=\"https://github.co/hiddenchars\" target=\"_blank\">Learn more about bidirectional Unicode characters</a>\n    </span>\n\n\n  <div data-view-component=\"true\" class=\"flash-action\">      <a href=\"{{ revealButtonHref }}\" data-view-component=\"true\" class=\"btn-sm btn\">  Show hidden characters\n  \n</a>\n</div>\n</div></template>\n<template class=\"js-line-alert-template\">\n  <span aria-label=\"This line has hidden Unicode characters\" data-view-component=\"true\" class=\"line-alert tooltipped tooltipped-e\">\n    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n</span></template>\n\n  <table class=\"highlight tab-size js-file-line-container js-code-nav-container js-tagsearch-file\" data-tab-size=\"8\" data-paste-markdown-skip data-tagsearch-lang=\"YAML\" data-tagsearch-path=\"workflow.yml\">\n        <tr>\n          <td id=\"file-workflow-yml-L1\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"1\"></td>\n          <td id=\"file-workflow-yml-LC1\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-ent\">name</span>: <span class=\"pl-s\">Comment on pull request</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-workflow-yml-L2\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"2\"></td>\n          <td id=\"file-workflow-yml-LC2\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-workflow-yml-L3\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"3\"></td>\n          <td id=\"file-workflow-yml-LC3\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-ent\">on</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-workflow-yml-L4\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"4\"></td>\n          <td id=\"file-workflow-yml-LC4\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">pull_request</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-workflow-yml-L5\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"5\"></td>\n          <td id=\"file-workflow-yml-LC5\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">branches</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-workflow-yml-L6\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"6\"></td>\n          <td id=\"file-workflow-yml-LC6\" class=\"blob-code blob-code-inner js-file-line\">      <span class=\"pl-s\">main</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-workflow-yml-L7\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"7\"></td>\n          <td id=\"file-workflow-yml-LC7\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-workflow-yml-L8\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"8\"></td>\n          <td id=\"file-workflow-yml-LC8\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-ent\">jobs</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-workflow-yml-L9\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"9\"></td>\n          <td id=\"file-workflow-yml-LC9\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">comment</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-workflow-yml-L10\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"10\"></td>\n          <td id=\"file-workflow-yml-LC10\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">runs-on</span>: <span class=\"pl-s\">ubuntu-latest</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-workflow-yml-L11\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"11\"></td>\n          <td id=\"file-workflow-yml-LC11\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">steps</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-workflow-yml-L12\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"12\"></td>\n          <td id=\"file-workflow-yml-LC12\" class=\"blob-code blob-code-inner js-file-line\">      - <span class=\"pl-ent\">uses</span>: <span class=\"pl-s\">deborah-digges/new-pull-request-comment-action@v1.9</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-workflow-yml-L13\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"13\"></td>\n          <td id=\"file-workflow-yml-LC13\" class=\"blob-code blob-code-inner js-file-line\">        <span class=\"pl-ent\">with</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-workflow-yml-L14\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"14\"></td>\n          <td id=\"file-workflow-yml-LC14\" class=\"blob-code blob-code-inner js-file-line\">          <span class=\"pl-ent\">access-token</span>: <span class=\"pl-s\">${{ secrets.ACCESS_TOKEN }}</span></td>\n        </tr>\n  </table>\n</div>\n\n\n    </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/Deborah-Digges/2de5897ec7b4b54714e3150dabda46d7/raw/b4aba95c9ce0f56402f728be9a2d615573c63a0b/workflow.yml\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/Deborah-Digges/2de5897ec7b4b54714e3150dabda46d7#file-workflow-yml\">\n          workflow.yml\n        </a>\n        hosted with &#10084; by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div></p>\n<p>Here is where you specify the <em>Events</em> you want to run the action in response to. In our case, we want it to be <em>on</em> a <code>pull_request</code> to the <code>main</code> branch.</p>\n<p>The workflow has a single job called <code>comment</code> which has a single step that consists of the action we created. We reference the action we created using this format: <code>deborah-digges/new-pull-request-comment-action@v1.9</code> which indicates:</p>\n<ul>\n<li>The GitHub username or organization under which to find the action</li>\n<li>The repository name</li>\n<li>The version of the action (This could either be in the form of a tag or a commit)</li>\n</ul>\n<h3>Adding An Access Token</h3>\n<p>We specify the input to our action using <code>${{ secrets.ACCESS_TOKEN }}</code>. Add a <a href=\"https://github.com/settings/tokens/\">Personal Access Token</a> to the <code>Secrets</code> section in your repository.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/512b8b1d82b5b581eb6907e5e7959211/a2b91/github-repository-secrets.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 37.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA2klEQVQoz52S6w7CIAyFff8nnToWZeVSoKttDWwz8Yc2OYF2h2/lcmGJ1hrnjLxtmynnzAAwciJiEg/Vat4uXQMQhk91UWAV4zzPBtJQ0zRdpeb4dr+zcwv7dTWtEDnEzCEEjjExlsI9TsDH42mdaLE2yeHJPqzWBSKaR0cISb6TATQnAcoSpZ2BzrkBtG1u7/kx+va7R7dNbfcNYJE/ee9H8Qg6ns/X+ARah8tiZ3IE/KITUCd6EQr+N5S5dyhnobCEjSEVExZ5IlJ7X0axsat7ElaOKE+K9g5fq/125IUSq3AAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"GitHub Repository Secrets Tab\"\n        title=\"GitHub Repository Secrets Tab\"\n        src=\"/static/512b8b1d82b5b581eb6907e5e7959211/5a190/github-repository-secrets.png\"\n        srcset=\"/static/512b8b1d82b5b581eb6907e5e7959211/772e8/github-repository-secrets.png 200w,\n/static/512b8b1d82b5b581eb6907e5e7959211/e17e5/github-repository-secrets.png 400w,\n/static/512b8b1d82b5b581eb6907e5e7959211/5a190/github-repository-secrets.png 800w,\n/static/512b8b1d82b5b581eb6907e5e7959211/c1b63/github-repository-secrets.png 1200w,\n/static/512b8b1d82b5b581eb6907e5e7959211/29007/github-repository-secrets.png 1600w,\n/static/512b8b1d82b5b581eb6907e5e7959211/a2b91/github-repository-secrets.png 3360w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>See the full source code of this repository that makes use of the action <a href=\"https://github.com/Deborah-Digges/test-github-action\">here</a>.</p>\n<h2>Giving The Action a Test Run</h2>\n<p>Go ahead! Test out your new workflow by making a pull request to your repository! If this is the first pull request you're making to the repository, you should <a href=\"https://github.com/Deborah-Digges/test-github-action/pull/13#partial-pull-merging\">see a welcome message</a> from your friendly GitHub Action!</p>\n<p>I hope you enjoyed this deep dive into GitHub Actions. Stay tuned for my next post where I'll go over the details of how to make a Docker GitHub Action. Exciting times ahead!</p>","frontmatter":{"title":"GitHub Actions: A Deep Dive"},"fields":{"date":"2020-10-14","slug":"2020/10/14/Building-a-Github-action/"}}},"pageContext":{"slug":"2020/10/14/Building-a-Github-action/","date":"2020-10-14"}},"staticQueryHashes":[]}